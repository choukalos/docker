define(['Magento_Ui/js/form/element/textarea'],function(Textarea){'use strict';return Textarea.extend({defaults:{allowImport:true,autoImportIfEmpty:false,values:{'name':'','description':'','sku':'','color':'','country_of_manufacture':'','gender':'','material':'','short_description':'','size':''},valueUpdate:'input',mask:''},handleNameChanges:function(newValue){this.values.name=newValue;this.updateValue();},handleDescriptionChanges:function(newValue){this.values.description=newValue;this.updateValue();},handleSkuChanges:function(newValue){if(this.code!=='sku'){this.values.sku=newValue;this.updateValue();}},handleColorChanges:function(newValue){this.values.color=newValue;this.updateValue();},handleCountryChanges:function(newValue){this.values.country=newValue;this.updateValue();},handleGenderChanges:function(newValue){this.values.gender=newValue;this.updateValue();},handleMaterialChanges:function(newValue){this.values.material=newValue;this.updateValue();},handleShortDescriptionChanges:function(newValue){this.values['short_description']=newValue;this.updateValue();},handleSizeChanges:function(newValue){this.values.size=newValue;this.updateValue();},updateValue:function(){var str=this.mask,nonEmptyValueFlag=false,placeholder,property,tmpElement;if(!this.allowImport){return;}
for(property in this.values){if(this.values.hasOwnProperty(property)){placeholder='';placeholder=placeholder.concat('{{',property,'}}');str=str.replace(placeholder,this.values[property]);nonEmptyValueFlag=nonEmptyValueFlag||!!this.values[property];}}
tmpElement=document.createElement('div');tmpElement.innerHTML=str;str=tmpElement.textContent||tmpElement.innerText||'';if(nonEmptyValueFlag){this.value(str);}},setInitialValue:function(){this._super();if(this.initialValue!==''){this.allowImport=false;}
return this;},userChanges:function(){this._super();if(this.value()===''){this.allowImport=true;if(this.autoImportIfEmpty){this.updateValue();}}else{this.allowImport=false;}}});});