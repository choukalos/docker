define(["jquery","jquery/ui"],function($){"use strict";$.widget('mage.giftMessage',{options:{rowPrefix:'#order-item-row-',linkPrefix:'#order-item-gift-message-link-',duration:100,expandedClass:'expanded',expandedContentClass:'expanded-content',lastClass:'last'},_create:function(){this.element.on('click',$.proxy(this._toggleGiftMessage,this));},_toggleGiftMessage:function(event){var element=$(event.target),options=this.options,itemId=element.data('item-id'),link=$(options.linkPrefix+itemId),row=$(options.rowPrefix+itemId),region=$('#'+element.attr('aria-controls'));region.toggleClass(options.expandedContentClass,options.duration,function(){if(region.attr('aria-expanded')==="true"){region.attr('aria-expanded',"false");if(region.hasClass(options.lastClass)){row.addClass(options.lastClass);}}else{region.attr('aria-expanded',"true");if(region.hasClass(options.lastClass)){row.removeClass(options.lastClass);}}
link.toggleClass(options.expandedClass);});event.preventDefault();}});return $.mage.giftMessage;});