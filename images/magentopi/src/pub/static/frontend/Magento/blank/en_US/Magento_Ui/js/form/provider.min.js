define(['underscore','uiElement','./client','mageUtils'],function(_,Element,Client,utils){'use strict';return Element.extend({defaults:{clientConfig:{urls:{save:'${ $.submit_url }',beforeSave:'${ $.validate_url }'}}},initialize:function(){this._super().initClient();return this;},initClient:function(){this.client=new Client(this.clientConfig);return this;},save:function(options){var data=this.get('data');this.client.save(data,options);return this;},updateConfig:function(isProvider,newData,oldData){if(isProvider===true){this.setData(oldData,newData,this);}
return this;},setData:function(oldData,newData,current,parentPath){_.each(newData,function(val,key){if(_.isObject(val)||_.isArray(val)){this.setData(oldData[key],val,current[key],utils.fullPath(parentPath,key));}else if(val!=oldData[key]&&oldData[key]==current[key]){this.set(utils.fullPath(parentPath,key),val);}},this);}});});