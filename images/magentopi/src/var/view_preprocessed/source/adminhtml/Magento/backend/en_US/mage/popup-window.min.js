define(["jquery","jquery/ui"],function($){"use strict";$.widget('mage.popupWindow',{options:{centerBrowser:0,centerScreen:0,height:500,left:0,location:0,menubar:0,resizable:0,scrollbars:0,status:0,width:500,windowName:null,windowURL:null,top:0,toolbar:0},_create:function(){this.element.on('click',$.proxy(this._openPopupWindow,this));},_openPopupWindow:function(event){var element=$(event.target),settings=this.options,windowFeatures='height='+settings.height+',width='+settings.width+',toolbar='+settings.toolbar+',scrollbars='+settings.scrollbars+',status='+settings.status+',resizable='+settings.resizable+',location='+settings.location+',menuBar='+settings.menubar,centeredX,centeredY;settings.windowName=settings.windowName||element.attr('name');settings.windowURL=settings.windowURL||element.attr('href');if(settings.centerBrowser){if($.browser.msie){centeredY=(window.screenTop-120)+((((document.documentElement.clientHeight+120)/ 2)-(settings.height / 2)));centeredX=window.screenLeft+((((document.body.offsetWidth+20)/ 2)-(settings.width / 2)));}else{centeredY=window.screenY+(((window.outerHeight / 2)-(settings.height / 2)));centeredX=window.screenX+(((window.outerWidth / 2)-(settings.width / 2)));}
windowFeatures+=',left='+centeredX+',top='+centeredY;}else if(settings.centerScreen){centeredY=(screen.height-settings.height)/ 2;centeredX=(screen.width-settings.width)/ 2;windowFeatures+=',left='+centeredX+',top='+centeredY;}else{windowFeatures+=',left='+settings.left+',top='+settings.top;}
window.open(settings.windowURL,settings.windowName,windowFeatures).focus();event.preventDefault();}});return $.mage.popupWindow;});