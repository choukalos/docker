define(['Magento_Ui/js/lib/view/utils/async','uiRegistry','underscore','Magento_Ui/js/form/components/insert-listing'],function($,registry,_,InsertListing){'use strict';return InsertListing.extend({defaults:{addAttributeUrl:'',attributeSetId:'',attributeIds:'',groupCode:'',groupName:'',groupSortOrder:0,productId:0,formProvider:'',modules:{form:'${ $.formProvider }',modal:'${ $.parentName }'},productType:''},render:function(){this._super();},save:function(){this.addSelectedAttributes();this._super();},addSelectedAttributes:function(){$.ajax({url:this.addAttributeUrl,type:'POST',dataType:'json',data:{attributeIds:this.selections().getSelections(),templateId:this.attributeSetId,groupCode:this.groupCode,groupName:this.groupName,groupSortOrder:this.groupSortOrder,productId:this.productId,componentJson:1},success:function(){this.form().params={set:this.attributeSetId,id:this.productId,type:this.productType};this.form().reload();this.modal().state(false);this.reload();}.bind(this)});}});});