define(['underscore','Magento_Ui/js/lib/collapsible'],function(_,Collapsible){'use strict';return Collapsible.extend({defaults:{listens:{'${ $.provider }:data.validate':'onValidate'},collapsible:false,opened:true},initElement:function(elem){this._super().initActivation(elem);return this;},initActivation:function(elem){var elems=this.elems(),isFirst=!elems.indexOf(elem);if(isFirst||elem.active()){elem.activate();}
return this;},validate:function(elem){var result=elem.delegate('validate'),invalid;invalid=_.find(result,function(item){return!item.valid;});if(invalid){elem.activate();invalid.target.focused(true);}
return invalid;},onValidate:function(){this.elems.sortBy(function(elem){return!elem.active();}).some(this.validate,this);}});});